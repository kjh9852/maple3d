(()=>{"use strict";var e,n={4781:(e,n,o)=>{o(4750),o(4994),o(8821),o(853),o(4845),o(5007),o(9275),o(6364),o(6632),o(1928),o(4883),o(8995);var t=o(6075),i=o(4418);function r(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function a(e,n,o){return n&&r(e.prototype,n),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var s=a((function e(n){var o=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.moving=!1,n.gltfLoader.load(n.modelSrc,(function(e){e.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0)})),o.modelMesh=e.scene.children[0],o.modelMesh.position.y=.1,o.modelMesh.name="ilbuni",n.scene.add(o.modelMesh),n.meshes.push(o.modelMesh),o.actions=[],o.mixer=new t.Xcj(o.modelMesh),o.actions[0]=o.mixer.clipAction(e.animations[0]),o.actions[1]=o.mixer.clipAction(e.animations[1]),o.actions[0].play()}))}));function d(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function l(e,n,o){return n&&d(e.prototype,n),o&&d(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=l((function e(n){var o=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=n.x,this.y=n.y,this.z=n.z,this.visible=!1,n.gltfLoader.load(n.modelSrc,(function(e){e.scene.traverse((function(e){e.castShadow=!0})),o.modelMesh=e.scene.children[0],o.modelMesh.castShadow=!0,o.modelMesh.position.set(o.x,o.y,o.z),n.scene.add(o.modelMesh)}))})),h=o(5435);function u(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,n){if(!e)return;if("string"==typeof e)return p(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return p(e,n)}(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(s)throw r}}}}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var o=0,t=new Array(n);o<n;o++)t[o]=e[o];return t}var m=(new t.dpR).load("/images/grid02.png");m.wrapS=t.rpg,m.wrapT=t.rpg,m.repeat.x=10,m.repeat.y=10;var w=document.querySelector("#three-canvas"),f=new t.CP7({canvas:w,antialias:!0});f.setSize(window.innerWidth,window.innerHeight),f.setPixelRatio(window.devicePixelRatio>1?2:1),f.shadowMap.enabled=!0,f.shadowMap.type=t.ntZ;var v=new t.xsS,y=new t.iKG(-window.innerWidth/window.innerHeight,window.innerWidth/window.innerHeight,1,-1,-1e3,1e3),b=new t.Pa4(1,3,5);y.position.set(b.x,b.y,b.z),y.zoom=.2,y.updateProjectionMatrix(),v.add(y);var g=new t.Mig("white",.7);v.add(g);var M=new t.Ox3("white",.5),x=new t.Pa4(1,1,1);M.position.x=x.x,M.position.y=x.y,M.position.z=x.z,M.castShadow=!0,M.shadow.mapSize.width=2048,M.shadow.mapSize.height=2048,M.shadow.camera.left=-100,M.shadow.camera.right=100,M.shadow.camera.top=100,M.shadow.camera.bottom=-100,M.shadow.camera.near=-100,M.shadow.camera.far=100,v.add(M);var z=[],S=new t.Kj0(new t._12(100,100),new t.Wid({map:m}));S.name="floor",S.rotation.x=-Math.PI/2,S.position.y=.1,S.receiveShadow=!0,v.add(S),z.push(S);var j=new t.Kj0(new t._12(1,1),new t.vBJ({color:"crimson",transparent:!0,opacity:.5}));j.rotation.x=-Math.PI/2,j.position.y=.01,j.receiveShadow=!0,v.add(j);var P=new t.Kj0(new t._12(3,3),new t.Wid({color:"yellow",transparent:!0,opacity:.5}));P.position.set(5,.005,5),P.rotation.x=-Math.PI/2,P.position.y=.15,P.receiveShadow=!0,v.add(P);var O=new i.E,L=new c({gltfLoader:O,scene:v,modelSrc:"/models/mushroom03.glb",x:5,y:-2,z:2}),E=(new c({gltfLoader:O,scene:v,modelSrc:"/models/mushroom.glb",x:15,y:.3,z:-5}),new c({gltfLoader:O,scene:v,modelSrc:"/models/yeti.glb",x:15,y:1,z:10}),new s({scene:v,meshes:z,gltfLoader:O,modelSrc:"/models/pinkbin04.glb"})),k=new t.iMs,A=new t.FM8,W=new t.Pa4,C=0,H=!1,I=new t.SUY;function T(e){A.x=e.clientX/w.clientWidth*2-1,A.y=-(e.clientY/w.clientHeight*2-1)}window.addEventListener("resize",(function(){y.left=-window.innerWidth/window.innerHeight,y.right=window.innerWidth/window.innerHeight,y.top=1,y.bottom=-1,y.updateProjectionMatrix(),f.setSize(window.innerWidth,window.innerHeight),f.render(v,y)})),w.addEventListener("mousedown",(function(e){H=!0,T(e)})),w.addEventListener("mouseup",(function(){H=!1})),w.addEventListener("mousemove",(function(e){H&&T(e)})),w.addEventListener("touchstart",(function(e){H=!0,T(e.touches[0])})),w.addEventListener("touchend",(function(){H=!1})),w.addEventListener("touchmove",(function(e){H&&T(e.touches[0])})),function e(){var n=I.getDelta();E.mixer&&E.mixer.update(n),E.modelMesh&&y.lookAt(E.modelMesh.position),E.modelMesh&&(H&&(k.setFromCamera(A,y),function(){k.setFromCamera(A,y);var e,n=u(k.intersectObjects(z));try{for(n.s();!(e=n.n()).done;){var o=e.value;"floor"===o.object.name&&(W.x=o.point.x,W.y=.1,W.z=o.point.z,E.modelMesh.lookAt(W),E.moving=!0,j.position.x=W.x,j.position.z=W.z);break}}catch(e){n.e(e)}finally{n.f()}}()),E.moving?(C=Math.atan2(W.z-E.modelMesh.position.z,W.x-E.modelMesh.position.x),E.modelMesh.position.x+=.05*Math.cos(C),E.modelMesh.position.z+=.05*Math.sin(C),y.position.x=b.x+E.modelMesh.position.x,y.position.z=b.z+E.modelMesh.position.z,E.actions[0].stop(),E.actions[1].play(),Math.abs(W.x-E.modelMesh.position.x)<.03&&Math.abs(W.z-E.modelMesh.position.z)<.03&&(E.moving=!1),Math.abs(P.position.x-E.modelMesh.position.x)<1.5&&Math.abs(P.position.z-E.modelMesh.position.z)<1.5?L.visible||(L.visible=!0,P.material.color.set("seagreen"),h.ZP.to(L.modelMesh.position,{duration:1,y:.5,ease:"Bounce.easeOut"}),h.ZP.to(y.position,{duration:1,y:2})):L.visible&&(L.visible=!1,P.material.color.set("yellow"),h.ZP.to(L.modelMesh.position,{duration:.5,y:-2}),h.ZP.to(y.position,{duration:1,y:3}))):(E.actions[1].stop(),E.actions[0].play())),f.render(v,y),f.setAnimationLoop(e)}()}},o={};function t(e){var i=o[e];if(void 0!==i)return i.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,t),r.exports}t.m=n,e=[],t.O=(n,o,i,r)=>{if(!o){var a=1/0;for(c=0;c<e.length;c++){for(var[o,i,r]=e[c],s=!0,d=0;d<o.length;d++)(!1&r||a>=r)&&Object.keys(t.O).every((e=>t.O[e](o[d])))?o.splice(d--,1):(s=!1,r<a&&(a=r));if(s){e.splice(c--,1);var l=i();void 0!==l&&(n=l)}}return n}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,i,r]},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={179:0};t.O.j=n=>0===e[n];var n=(n,o)=>{var i,r,[a,s,d]=o,l=0;if(a.some((n=>0!==e[n]))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(d)var c=d(t)}for(n&&n(o);l<a.length;l++)r=a[l],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},o=self.webpackChunkthreejs_study=self.webpackChunkthreejs_study||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))})();var i=t.O(void 0,[90],(()=>t(4781)));i=t.O(i)})();